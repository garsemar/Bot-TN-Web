import Head from 'next/head'
import Link from 'next/link'
import Script from 'next/script'
import { useEffect, useRef } from "react";
import FullCalendar from "@fullcalendar/react";
import interactionPlugin from "@fullcalendar/interaction";
import timeGridPlugin from "@fullcalendar/timegrid";



function showInstructions() {
  useEffect(() => {
    const btn_divn = document.getElementById("btn_divn");
    const btn_dive = document.getElementById("btn_dive");
    const div_noticias = document.getElementById("div_noticias");
    const div_eventos = document.getElementById("div_eventos");

    btn_divn.addEventListener('click', () => {
      div_noticias.style.display='block';
      div_eventos.style.display='none';
    });

    btn_dive.addEventListener('click', () => {
      div_noticias.style.display='none';
      div_eventos.style.display='block';
    });


    return () => {
      btn_divn.removeEventListener('click', () => {
        div_noticias.style.display='block';
        div_eventos.style.display='none';
      });
  
      btn_dive.removeEventListener('click', () => {
        div_noticias.style.display='none';
        div_eventos.style.display='block';
      });
    }
  });
}

const prueba = () => {
  var btn_divn = document.getElementById("btn_divn");
  var btn_dive = document.getElementById("btn_dive");
  var div_noticias = document.getElementById("div_noticias");
  var div_eventos = document.getElementById("div_eventos");
  btn_divn.addEventListener('click', ()=>{
      div_noticias.style.display='block';
      div_eventos.style.display='none';
  });
  btn_dive.addEventListener('click', ()=>{
      div_noticias.style.display='none';
      div_eventos.style.display='block';
  });
}

const prueba2 = () => {
  var modal = document.getElementById("myModal");
  var btn = document.getElementById("myBtn");
  var span = document.getElementsByClassName("close")[0];
  btn.onclick = function() {
    modal.style.display = "block";
  }
  span.onclick = function() {
    modal.style.display = "none";
  }
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  } 
}

function changeEvents() {
  const modalRef = useRef(null);
  const btnRef = useRef(null);
  const spanRef = useRef(null);
  useEffect(() => {
    const modal = modalRef.current;
    const btn = btnRef.current;
    const span = spanRef.current;

    const openModal = () => {
      modal.style.display = "block";
    };

    const closeModal = () => {
      modal.style.display = "none";
    };

    const handleClickOutside = (event) => {
      if (event.target === modal) {
        modal.style.display = "none";
      }
    };

    btn.addEventListener("click", openModal);
    span.addEventListener("click", closeModal);
    window.addEventListener("click", handleClickOutside);

    return () => {
      btn.removeEventListener("click", openModal);
      span.removeEventListener("click", closeModal);
      window.removeEventListener("click", handleClickOutside);
    };
  });
}


export default function Home() {
  return (
    <>
      <Head>
        <title>BOT TN</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div id="all">
        <div id="cabecera">
            <div id="title_cabecera">
              <a href="/" class="homeLink">
                Bot Trinitat Nova
              </a>
            </div>
        </div>
        <div id="cuerpo">
            <div id="qr">
                <button id="myBtn">
                  Instrucciones
                </button>
                <div id="myModal" className="modal">
                  <div className="modal-content">
                    <span className="close">
                      &times;
                    </span>
                    <p>Instrucciones de cómo funciona la página web</p>
                  </div>
                </div>
                <img id="qr_img" src="/QR.png"/>
                <a href="https://wa.me/message/E5USRNWNH4VBL1">
                    <button id="qr_button">
                        WhatsApp Bot
                    </button>
                </a>
            </div>
            <div id="eventos2">
                <div id="seleccion">
                    <button onClick={showInstructions} id="btn_divn">Noticias</button>
                    <button onClick={showInstructions} id="btn_dive">Eventos</button>
                </div>
                <div id="block">
                    <div class="div_noticias" id="div_noticias">
                        <a href="#">
                            <div class="evento2">
                                Noticia 1
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Noticia 2
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Noticia 3
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Noticia 4
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Noticia 5
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Noticia 6
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Noticia 7
                            </div>
                        </a>
                    </div>
                    <div class="div_eventos" id="div_eventos">
                        <a href="#">
                            <div class="evento2">
                                Evento 1
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Evento 2
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Evento 3
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Evento 4
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Evento 5
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Evento 6
                            </div>
                        </a>
                        <a href="#">
                            <div class="evento2">
                                Evento 7
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </>
  )
}
